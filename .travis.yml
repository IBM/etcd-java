language: java
jdk:
- openjdk11
- openjdk17

env:
  jobs:
    - TARGET_ETCD_VERSION=v3.4.20
    - TARGET_ETCD_VERSION=v3.5.10
  global:
    - secure: "XB13D71N/3iWgKh/+3TDdqLYQN3hBzD+BvUYSbkB/Pgyl1mjI7CVj03IxeVl7AvLkP8O9t4WTVNxutIMXdEap01cc+cvd8S1aCKgRwbMh3dSHbRowjXB9XccX7h7JE09gkmBxHQWu5lIZqdSG2dWat4YjD0i/IdFDDFtmDV1VKVLnjEvxroHBJJDMo5mYFbrQZB0D+5W2v52JpdMw54tF/vsQ6ThlMN9faEuuD+HQBiEvslMmbl+d9eiDxPhHkdf4fUQr0OBz65V/ggvOd0aP8fRpD+G9bKdnjM+9kkvuCFOXTSlxJzhNO4JGIEJErXumGFjjsu5QwFD+RKrKaTl1V5/6IrkKgmyn/ZVFgI8ZiullwTyxei+7mHd1LAt+DW/GDrCG/Q3s3jrgfc9iMemgaMojrK6iOgtHAYYhQwDuOwdxLeOmqvgBEWvbe7nsebLQG6LOhJPEI7UjcSDXH9m7ag/CpP9q3qEOChpQWGkMo0eWLOmOMujdbLWqFaqNs/ot5yZJXb+BNW3opO40KFm0kG1arw3V/4LB+GZ4Wh52ScCZugBshUa8hB1J4pLlFhyi09IaxiqKCqAHfAtwvLQ2SY1VtBkyryViHX1VSIfPa4LpaHUIarFMZk11Vq3SmCvXrKhl1Vt7iVHDQMGBtO+abmfmGSZTgb3twEdcLc1Mc8="
    - secure: "FggRkH5Ttnz/AfHdwcxy5tnkqA42XwuRx4aDEmaz+CuK+hfKbwIQiqli0PzUQqbPJtEReU85vvyRjbC5lAOvFzQKTrCU3shbXXGq9PGiFVvVNsFB+93akAwtEZYl9CDjRzuYqNiS9hrpze4qMLVZsbRUGSXDVGNzK27//zA1WXbb/htqa4xTphmxLG6CrHI8L65tbbC2WY+qIa5eQHJDLwVRVAisXT/LDpj8ky69I9bRZZbyirkwKsgf7UGyneqqjO/d+3IOfc6ppGPQhe1IeL1XuVtiul9OtksfSBsAttgro7nRgbe2szU+Um2JKcv6dxqqFZJi7SN6TfWpN2f16bU88mJHmyZAILr6YQAHkiWM48vwcZR2MVYH0FI0M1c7xmsDeG6bAQ6H0kWKdLr0NfX1/vm+TPc+OHaCsnTlpcnQx5mcTi4Cztr/oTWMYsrocfuoNOy31gosnLspmjFcqUbjreWvArdZNXmVzj0hp6ewNz/bLszqtI57LdoAMc/bDs8rqElpCr8r12vsQQNgmmKigTlZIe8jNoPnJw00atzg7Dn2XqTHxNnFhtMOhEfmX7fEQ4du1LW0H8RntESjdAIeO8kXttraGmHP5Au7b78zN2WKc21NLBVuwAmcm69G6qcGFdBhuY6xup7aipG0ilB7M+/jllcD4mVAPn3lLGQ="
    - secure: "ARgziTZjRk16YJTDmBiao6VjhYCBkjRqagHEIPNPFFjzvxr2xELoKfecSXiC7D7VJZqvf4Qu7cJjr/+71FzJrFzSnHwVIDIwXTokF6lDR7hjfOAVsk00CrYaHi0jl7lvY5mlsOK8Vsd2rGU9yAea1ZaH8NlEB+d0TmUXn+lLnR2Ym34e5yXp/YOdQeIuBd5TuSCgDzbF0gWiXQe8vHY7ZqNYoGh9YbVFvSW38YOvKTfNiwxYLoqoIOvtTWGatUS5gkrtAHwsKYc7CnECVvVN9fDsYsbS6BC+kUo8o1D4blLrG6LcLyV6HNU1mtf0H/m2UlsCBOVjW5HM3DUrrRtZBIuh6e/3XTe1830LZLxUUc959j2/j+EykMjdOy3cBArWGYdbg+Ca9Mj/oTpGv7oaC+YAKufQ/PqhTORQR5fwLhmevCh9Xmmexb0H6lX07r6xXRNLhk0+VEelgKxewC+HH0ltKIBRXq5H0DtKHv9t9DX9lvy0HNxZNf7Gkzk550l1Dk9wqXXRerYSykXdOMJLdNvnCYqk7RcbeNy8CTd56PsY5OxxGbVj4/PqW9VwIDKM2hMMypfEUyu2D4ilbCmvuuxV/NNBW5kXV/2LAwCT1FU88QIAZiQ1Niwbj6onxgpqwIaNyt++qVVz+ZhcqJURTTflM79OUMR7r0Z5gOb1LJ8="
    - secure: "ElRblzpOJxdqC2RnPS/zY1JEPmQTQ3mC9pkNLiCq8czscQmdqSD1HD0gpsEmNO6pkUqY9Q1uQ35XqODb5HTcJpeCDGCb6+ZMefxq7RGrjixBZiquujlv9II2DopDgZSJrjfDB2kYOY/RPt5G1bf0nABvNKMQw4y20HS7IbDhthGzJ7XilZG2UWC5iDUNmDidePKdwiH+kKeurvrSJHtovjpeGbJdvD+RRDkSMuz/hXg3Tp/3FR8B10O2WP7G7C6RO23ebEp2J5s/fPakf5MDDE4ok7+pC+U0SmItI+MQbEejEDhdHXUXexq8z09cyp+PtAm9sxzhz7eJohzF4X+NrqS/W4m7sWG/nPbF6qFwi9r9copnPPFnL8aX6A/vUbK356so94xjJPK4KeCdBJAwHAZ3FLOhyGxDMTTYbRf8xwKTcrRPynHiIMgDyUTBO90pJsROqdc1/B1Zi03Cut32vYIm0qdQgReP4H8zlTfDF+9lnDWen+EXehEhCgINIX82JzqKgd/nom9GOLD4/sdIMrAkjEA/pTzgC1nxdm5y0OG/NH1VLNFYoh8Y3cH6mz5QZQlRv4n4iH5jCtdNkrPhmrjL/UanM6Vldao9h3A4jRMWbkgApiOeMX8Ar2w3y4cOtj4lWjcXPn8fshQbBcNAlCiofds3dRMZFdC4Tsee47c="

cache:
  directories:
    - $HOME/.m2

before_install:
- ./build-env/install-etcd.sh "$HOME/etcd"
- export PATH="$HOME/etcd:$PATH"


after_success: ./cd/deploy.sh